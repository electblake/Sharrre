/*!
 *  Sharrre.com - Make your sharing widget!
 *  Version: beta 1.3.5
 *  Author: Julien Hany
 *  License: MIT http://en.wikipedia.org/wiki/MIT_License or GPLv2 http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
(function(f,g,d,a){var c="sharrre",l={className:"sharrre",share:{googlePlus:false,facebook:false,twitter:false,digg:false,delicious:false,stumbleupon:false,linkedin:false,pinterest:false},shareTotal:0,template:"",title:"",url:d.location.href,text:d.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:true,enableHover:true,enableCounter:true,enableTracking:false,hover:function(){},hide:function(){},click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:false,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:false,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:false,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:false,type:"DiggCompact"},delicious:{url:"",urlCount:false,size:"medium"},stumbleupon:{url:"",urlCount:false,layout:"1"},linkedin:{url:"",urlCount:false,counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},h={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"http://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"},k={googlePlus:function(n){var o=n.options.buttons.googlePlus;f(n.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="'+o.size+'" data-href="'+(o.url!==""?o.url:n.options.url)+'" data-annotation="'+o.annotation+'"></div></div>');g.___gcfg={lang:n.options.buttons.googlePlus.lang};var m=0;if(typeof gapi==="undefined"&&m==0){m=1;(function(){var p=d.createElement("script");p.type="text/javascript";p.async=true;p.src="//apis.google.com/js/plusone.js";var q=d.getElementsByTagName("script")[0];q.parentNode.insertBefore(p,q)})()}else{gapi.plusone.go()}},facebook:function(n){var o=n.options.buttons.facebook;f(n.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+(o.url!==""?o.url:n.options.url)+'" data-send="'+o.send+'" data-layout="'+o.layout+'" data-width="'+o.width+'" data-show-faces="'+o.faces+'" data-action="'+o.action+'" data-colorscheme="'+o.colorscheme+'" data-font="'+o.font+'" data-via="'+o.via+'"></div></div>');var m=0;if(typeof FB==="undefined"&&m==0){m=1;(function(t,q,p){var r,u=t.getElementsByTagName(q)[0];if(t.getElementById(p)){return}r=t.createElement(q);r.id=p;r.src="//connect.facebook.net/"+o.lang+"/all.js#xfbml=1";u.parentNode.insertBefore(r,u)}(d,"script","facebook-jssdk"))}else{FB.XFBML.parse()}},twitter:function(n){var o=n.options.buttons.twitter;f(n.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(o.url!==""?o.url:n.options.url)+'" data-count="'+o.count+'" data-text="'+n.options.text+'" data-via="'+o.via+'" data-hashtags="'+o.hashtags+'" data-related="'+o.related+'" data-lang="'+o.lang+'">Tweet</a></div>');var m=0;if(typeof twttr==="undefined"&&m==0){m=1;(function(){var q=d.createElement("script");q.type="text/javascript";q.async=true;q.src="//platform.twitter.com/widgets.js";var p=d.getElementsByTagName("script")[0];p.parentNode.insertBefore(q,p)})()}else{f.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:true})}},digg:function(n){var o=n.options.buttons.digg;f(n.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+o.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent((o.url!==""?o.url:n.options.url))+'"></a></div>');var m=0;if(typeof __DBW==="undefined"&&m==0){m=1;(function(){var q=d.createElement("SCRIPT"),p=d.getElementsByTagName("SCRIPT")[0];q.type="text/javascript";q.async=true;q.src="//widgets.digg.com/buttons.js";p.parentNode.insertBefore(q,p)})()}},delicious:function(p){if(p.options.buttons.delicious.size=="tall"){var o="width:50px;",n="height:35px;width:50px;font-size:15px;line-height:35px;",q="height:18px;line-height:18px;margin-top:3px;"}else{var o="width:93px;",n="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",q="float:left;height:20px;line-height:20px;"}var m=p.shorterTotal(p.options.count.delicious);if(typeof m==="undefined"){m=0}f(p.element).find(".buttons").append('<div class="button delicious"><div style="'+o+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+n+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+m+'</div><div style="'+q+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>');f(p.element).find(".delicious").on("click",function(){p.openPopup("delicious")})},stumbleupon:function(n){var o=n.options.buttons.stumbleupon;f(n.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+o.layout+'" location="'+(o.url!==""?o.url:n.options.url)+'"></su:badge></div>');var m=0;if(typeof STMBLPN==="undefined"&&m==0){m=1;(function(){var p=d.createElement("script");p.type="text/javascript";p.async=true;p.src="//platform.stumbleupon.com/1/widgets.js";var q=d.getElementsByTagName("script")[0];q.parentNode.insertBefore(p,q)})();s=g.setTimeout(function(){if(typeof STMBLPN!=="undefined"){STMBLPN.processWidgets();clearInterval(s)}},500)}else{STMBLPN.processWidgets()}},linkedin:function(n){var o=n.options.buttons.linkedin;f(n.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="'+(o.url!==""?o.url:n.options.url)+'" data-counter="'+o.counter+'"></script></div>');var m=0;if(typeof g.IN==="undefined"&&m==0){m=1;(function(){var p=d.createElement("script");p.type="text/javascript";p.async=true;p.src="//platform.linkedin.com/in.js";var q=d.getElementsByTagName("script")[0];q.parentNode.insertBefore(p,q)})()}else{g.IN.init()}},pinterest:function(m){var n=m.options.buttons.pinterest;f(m.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url='+(n.url!==""?n.url:m.options.url)+"&media="+n.media+"&description="+n.description+'" class="pin-it-button" count-layout="'+n.layout+'">Pin It</a></div>');(function(){var o=d.createElement("script");o.type="text/javascript";o.async=true;o.src="//assets.pinterest.com/js/pinit.js";var p=d.getElementsByTagName("script")[0];p.parentNode.insertBefore(o,p)})()}},j={googlePlus:function(){},facebook:function(){fb=g.setInterval(function(){if(typeof FB!=="undefined"){FB.Event.subscribe("edge.create",function(m){ga("send","social","facebook","like",m)});FB.Event.subscribe("edge.remove",function(m){ga("send","social","facebook","unlike",m)});FB.Event.subscribe("message.send",function(m){ga("send","social","facebook","like",m)});clearInterval(fb)}},1000)},twitter:function(){tw=g.setInterval(function(){if(typeof twttr!=="undefined"){twttr.events.bind("tweet",function(m){if(m){ga("send","social","twitter","tweet")}});clearInterval(tw)}},1000)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){function m(){ga("send","social","linkedin","share")}},pinterest:function(){}},b={googlePlus:function(m){g.open("https://plus.google.com/share?hl="+m.buttons.googlePlus.lang+"&url="+encodeURIComponent((m.buttons.googlePlus.url!==""?m.buttons.googlePlus.url:m.url)),"","toolbar=0, status=0, width=900, height=500")},facebook:function(m){g.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent((m.buttons.facebook.url!==""?m.buttons.facebook.url:m.url))+"&t="+m.text+"","","toolbar=0, status=0, width=900, height=500")},twitter:function(m){g.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(m.text)+"&url="+encodeURIComponent((m.buttons.twitter.url!==""?m.buttons.twitter.url:m.url))+(m.buttons.twitter.via!==""?"&via="+m.buttons.twitter.via:"")+(m.buttons.twitter.hashtags!==""?"&hashtags="+encodeURIComponent(m.buttons.twitter.hashtags):""),"","toolbar=0, status=0, width=650, height=360")},digg:function(m){g.open("http://digg.com/tools/diggthis/submit?url="+encodeURIComponent((m.buttons.digg.url!==""?m.buttons.digg.url:m.url))+"&title="+m.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(m){g.open("http://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent((m.buttons.delicious.url!==""?m.buttons.delicious.url:m.url))+"&title="+m.text,"delicious","toolbar=no,width=550,height=550")},stumbleupon:function(m){g.open("http://www.stumbleupon.com/badge/?url="+encodeURIComponent((m.buttons.delicious.url!==""?m.buttons.delicious.url:m.url)),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(m){g.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent((m.buttons.delicious.url!==""?m.buttons.delicious.url:m.url))+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(m){g.open("http://pinterest.com/pin/create/button/?url="+encodeURIComponent((m.buttons.pinterest.url!==""?m.buttons.pinterest.url:m.url))+"&media="+encodeURIComponent(m.buttons.pinterest.media)+"&description="+m.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")}};function i(m,n){this.element=m;this.options=f.extend(true,{},l,n);this.options.share=n.share;this._defaults=l;this._name=c;this.init()}i.prototype.init=function(){var m=this;if(this.options.urlCurl!==""){h.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus";h.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon"}f(this.element).addClass(this.options.className);if(typeof f(this.element).data("title")!=="undefined"){this.options.title=f(this.element).attr("data-title")}if(typeof f(this.element).data("url")!=="undefined"){this.options.url=f(this.element).data("url")}if(typeof f(this.element).data("text")!=="undefined"){this.options.text=f(this.element).data("text")}f.each(this.options.share,function(o,n){if(n===true){m.options.shareTotal++}});if(m.options.enableCounter===true){f.each(this.options.share,function(p,o){if(o===true){try{m.getSocialJson(p)}catch(n){}}})}else{if(m.options.template!==""){this.options.render(this,this.options)}else{this.loadButtons()}}f(this.element).hover(function(){if(f(this).find(".buttons").length===0&&m.options.enableHover===true){m.loadButtons()}m.options.hover(m,m.options)},function(){m.options.hide(m,m.options)});f(this.element).click(function(){m.options.click(m,m.options);return false})};i.prototype.loadButtons=function(){var m=this;f(this.element).append('<div class="buttons"></div>');f.each(m.options.share,function(o,n){if(n==true){k[o](m);if(m.options.enableTracking===true){j[o]()}}})};i.prototype.getSocialJson=function(p){var o=this,n=0,m=h[p].replace("{url}",encodeURIComponent(this.options.url));if(this.options.buttons[p].urlCount===true&&this.options.buttons[p].url!==""){m=h[p].replace("{url}",this.options.buttons[p].url)}if(m!=""&&o.options.urlCurl!==""){f.getJSON(m,function(q){if(typeof q.count!=="undefined"){var r=q.count+"";r=r.replace("\u00c2\u00a0","");n+=parseInt(r,10)}else{if(q.data&&q.data.length>0&&typeof q.data[0].total_count!=="undefined"){n+=parseInt(q.data[0].total_count,10)}else{if(typeof q[0]!=="undefined"){n+=parseInt(q[0].total_posts,10)}else{if(typeof q[0]!=="undefined"){}}}}o.options.count[p]=n;o.options.total+=n;o.renderer();o.rendererPerso()}).error(function(){o.options.count[p]=0;o.rendererPerso()})}else{o.renderer();o.options.count[p]=0;o.rendererPerso()}};i.prototype.rendererPerso=function(){var m=0;for(e in this.options.count){m++}if(m===this.options.shareTotal){this.options.render(this,this.options)}};i.prototype.renderer=function(){var n=this.options.total,m=this.options.template;if(this.options.shorterTotal===true){n=this.shorterTotal(n)}if(m!==""){m=m.replace("{total}",n);f(this.element).html(m)}else{f(this.element).html('<div class="box"><a class="count" href="javascript:void(0);">'+n+"</a>"+(this.options.title!==""?'<a class="share" href="javascript:void(0);">'+this.options.title+"</a>":"")+"</div>")}};i.prototype.shorterTotal=function(m){if(m>=1000000){m=(m/1000000).toFixed(2)+"M"}else{if(m>=1000){m=(m/1000).toFixed(1)+"k"}}return m};i.prototype.openPopup=function(m){b[m](this.options);if(this.options.enableTracking===true){var n={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"}};ga("send","social",n[m].site,n[m].action)}};i.prototype.simulateClick=function(){var m=f(this.element).html();f(this.element).html(m.replace(this.options.total,this.options.total+1))};i.prototype.update=function(n,m){if(n!==""){this.options.url=n}if(m!==""){this.options.text=m}};f.fn[c]=function(m){var n=arguments;if(m===a||typeof m==="object"){return this.each(function(){if(!f.data(this,"plugin_"+c)){f.data(this,"plugin_"+c,new i(this,m))}})}else{if(typeof m==="string"&&m[0]!=="_"&&m!=="init"){return this.each(function(){var o=f.data(this,"plugin_"+c);if(o instanceof i&&typeof o[m]==="function"){o[m].apply(o,Array.prototype.slice.call(n,1))}})}}}})(jQuery,window,document);
